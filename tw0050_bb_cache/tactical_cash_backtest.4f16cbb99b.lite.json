{
  "generated_at_utc": "2026-02-26T06:15:00Z",
  "schema_version": "v2.3",
  "script_fingerprint": "backtest_tw0050_tactical_cash@2026-02-24.v2.3.fix_execdelay0_and_force_close",
  "inputs": {
    "cache_dir": "tw0050_bb_cache",
    "price_csv": "data.csv",
    "price_csv_resolved": "tw0050_bb_cache/data.csv",
    "stats_json": "stats_latest.json",
    "stats_json_resolved": "tw0050_bb_cache/stats_latest.json",
    "price_col": "adjclose",
    "ma_window": 60,
    "core_frac": 0.9,
    "signal_lag_days": 1,
    "exec_delay_days": 0,
    "extra_slip_bps": 0.0,
    "fee_rate": 0.001425,
    "tax_rate": 0.001,
    "slip_bps": 5.0,
    "slip_rate_total": 0.0005,
    "segment_split_date": "auto",
    "segment_break_rank": 0,
    "segment_post_start_date": null
  },
  "segmentation": {
    "enabled": true,
    "mode": "auto_break_rank",
    "split_date": "2014-01-02",
    "post_start_date": "2014-01-03",
    "post_start_policy": "next_row_after_split_date (exclude split day)",
    "break_rank": 0,
    "breaks_detected": 1,
    "break_samples_first5": [
      {
        "idx": 1238,
        "break_date": "2014-01-02",
        "prev_date": "2013-12-31",
        "prev_price": 37.412410736083984,
        "price": 9.329201698303224,
        "ratio": 0.249361148205969
      }
    ],
    "break_samples_source": "detect_breaks_from_price",
    "notes": "post-only evaluation: equity is normalized to 1.0 at post_start_date. split_date is excluded from post by default (post starts at next trading row)."
  },
  "audit": {
    "rows": 2956,
    "start_date": "2014-01-03",
    "end_date": "2026-02-25",
    "p0": 9.217663764953612,
    "core_shares": 0.09763862329431902,
    "cash0": 0.09999999999999998,
    "n_trades": 77,
    "time_in_market_days": 2059,
    "time_in_market_pct": 0.6965493910690121,
    "pending_action_policy": "single pending action; ignores flips until executed (conservative). exec_delay=0 executes immediately (v2.3 fix).",
    "scheduled_entries": 0,
    "scheduled_exits": 0,
    "executed_entries": 77,
    "executed_exits": 77,
    "immediate_exec_entries": 77,
    "immediate_exec_exits": 77,
    "skipped_schedule_due_to_eod": 0,
    "timing_assumption": "signal_raw uses close[t] vs MA[t]; signal_exec uses signal_raw[t-1] (lag=1); desired_pos=signal_exec[t]; if desired changes, execute at t+exec_delay_days (exec_delay=0) using close[exec_day]. extra_slip_bps=0.0 added to slip_bps. force_close_end=True."
  },
  "perf": {
    "overlay": {
      "ok": true,
      "start": 1.0,
      "end": 8.287219914720719,
      "n_days": 2956,
      "years": 11.726190476190476,
      "cagr": 0.1976258515755689,
      "vol_ann": 0.17834878330324247,
      "sharpe0": 1.1008232343167519,
      "sharpe_note": "rf=0 assumed",
      "perf_ddof": 0,
      "mdd": -0.32731960716921504,
      "mdd_peak": "2022-01-17",
      "mdd_trough": "2022-10-25"
    },
    "base_only": {
      "ok": true,
      "start": 1.0,
      "end": 8.034114737474965,
      "n_days": 2956,
      "years": 11.726190476190476,
      "cagr": 0.19446211638224908,
      "vol_ann": 0.17563567431500207,
      "sharpe0": 1.1000042015468572,
      "sharpe_note": "rf=0 assumed",
      "perf_ddof": 0,
      "mdd": -0.3281138328054489,
      "mdd_peak": "2022-01-17",
      "mdd_trough": "2022-10-25"
    },
    "calmar_overlay": 0.6037702821554527,
    "calmar_base_only": 0.5926666203602364,
    "delta_vs_base": {
      "cagr": 0.0031637351933198055,
      "mdd": 0.0007942256362338806,
      "sharpe0": 0.0008190327698947009
    }
  },
  "trade_kpis": {
    "n_trades": 77,
    "win_rate": 0.35064935064935066,
    "avg_net_pnl": 0.0032870802239708145,
    "profit_factor": 3.07365100317446,
    "avg_hold_days": 26.753246753246753,
    "time_in_market_pct": 0.6965493910690121
  }
}