{
  "generated_at_utc": "2026-02-22T02:22:49Z",
  "script_fingerprint": "backtest_tw0050_leverage_mvp@2026-02-22.v11.auditnotes_mddle0_pricecolwarn_grosspnl_note",
  "params": {
    "bb_window": 60,
    "bb_ddof": 0,
    "entry_z": -1.5,
    "exit_z": 0.0,
    "leverage_frac": 0.5,
    "borrow_apr": 0.035,
    "max_hold_days": 60,
    "trading_days": 252,
    "skip_contaminated": true,
    "contam_horizon": 60,
    "z_clear_days": 60,
    "cache_dir": "tw0050_bb_cache",
    "price_csv": "data.csv",
    "price_csv_resolved": "tw0050_bb_cache/data.csv",
    "stats_json": "stats_latest.json",
    "stats_json_resolved": "tw0050_bb_cache/stats_latest.json",
    "price_col": "adjclose",
    "break_ratio_hi": 1.8,
    "break_ratio_lo": 0.5555555556,
    "break_ratio_policy": "ratio_lo defaults to 1/ratio_hi (symmetric inverse) unless overridden"
  },
  "audit": {
    "rows": 4192,
    "start_date": "2009-01-02",
    "end_date": "2026-02-11",
    "interest_paid_total": 0.07751690600844562,
    "trades": 34,
    "skipped_entries_on_forbidden": 18,
    "skipped_entries_on_nonpositive_equity": 0,
    "exit_count_by_z": 31,
    "exit_count_by_time": 3,
    "open_at_end": false,
    "forced_eod_close": 0,
    "hold_days_semantics": "entry day sets hold_days=0; increments by 1 each subsequent row while in position",
    "same_day_reentry": "not allowed; exit day is always flat",
    "interest_semantics": "row-based accrual while in position; includes the first row after entry (may be interpreted as entry-day accrual depending on timing assumption)",
    "end_of_data_policy": "if open position exists at end, force-close and record trade with exit_reason=end_of_data",
    "equity_csv_last_row_note": "if open_at_end=true, last equity value is mark-to-market while still in position; numerically equivalent to post-close equity at the same last_price, but trade record is added after loop",
    "lever_leg_pnl_semantics": "gross P&L for leverage leg (proceeds - principal); net = lever_leg_pnl - interest_paid",
    "breaks_detected": 1,
    "break_samples_first5": [
      {
        "idx": 1238,
        "break_date": "2014-01-02",
        "prev_date": "2013-12-31",
        "prev_price": 37.41241455078125,
        "price": 9.329200744628906,
        "ratio": 0.24936109728940478
      }
    ],
    "break_samples_source": "detect_breaks_from_price",
    "forbid_mask_semantics": "for each break idx b: forbid entry i in [b-contam_horizon, b+z_clear_days-1]"
  },
  "perf_leverage": {
    "ok": true,
    "start": 1.0,
    "end": 4.094019248351743,
    "n_days": 4192,
    "years": 16.63095238095238,
    "cagr": 0.08844845392561584,
    "vol_ann": 0.29121443472709563,
    "sharpe0": 0.49526333292229513,
    "sharpe_note": "rf=0 assumed",
    "mdd": -0.732900649874189,
    "mdd_peak": "2011-06-01",
    "mdd_trough": "2014-02-05",
    "mdd_warning": null
  },
  "perf_base_only": {
    "ok": true,
    "start": 1.0,
    "end": 3.771765633152447,
    "n_days": 4192,
    "years": 16.63095238095238,
    "cagr": 0.08309604082065958,
    "vol_ann": 0.2812343046699346,
    "sharpe0": 0.5004990900189182,
    "sharpe_note": "rf=0 assumed",
    "mdd": -0.7733591538921186,
    "mdd_peak": "2011-01-28",
    "mdd_trough": "2014-02-05",
    "mdd_warning": null
  },
  "trades": [
    {
      "entry_date": "2010-02-02",
      "entry_price": 32.28655242919922,
      "entry_z": -1.6685420498950485,
      "borrow_principal": 0.7887131714983902,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0027385874010360783,
      "exit_date": "2010-03-18",
      "exit_price": 33.874412536621094,
      "hold_days": 25,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.03878909598560509
    },
    {
      "entry_date": "2010-05-17",
      "entry_price": 32.317684173583984,
      "entry_z": -1.6265672832458542,
      "borrow_principal": 0.7894736744013194,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.004057017493451224,
      "exit_date": "2010-07-08",
      "exit_price": 32.41109085083008,
      "hold_days": 37,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.002281788271183416
    },
    {
      "entry_date": "2011-03-11",
      "entry_price": 36.64539337158203,
      "entry_z": -1.6741482581516554,
      "borrow_principal": 0.8951932694048685,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0019893183764552636,
      "exit_date": "2011-04-06",
      "exit_price": 38.07758331298828,
      "hold_days": 16,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.03498630190856311
    },
    {
      "entry_date": "2011-06-20",
      "entry_price": 36.48971939086914,
      "entry_z": -2.029389781615215,
      "borrow_principal": 0.8913903821403614,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0028474970540594887,
      "exit_date": "2011-07-21",
      "exit_price": 37.73509979248047,
      "hold_days": 23,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.03042281855366158
    },
    {
      "entry_date": "2011-08-04",
      "entry_price": 36.022701263427734,
      "entry_z": -1.8732425900231764,
      "borrow_principal": 0.8799818135343052,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0067220832978314975,
      "exit_date": "2011-10-24",
      "exit_price": 33.37625503540039,
      "hold_days": 55,
      "exit_reason": "exit_z",
      "lever_leg_pnl": -0.06464880393422567
    },
    {
      "entry_date": "2011-11-10",
      "entry_price": 31.477052688598636,
      "entry_z": -1.607051159619722,
      "borrow_principal": 0.7689382788666579,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.004592270276564758,
      "exit_date": "2012-01-10",
      "exit_price": 31.570459365844727,
      "hold_days": 43,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.002281788271183194
    },
    {
      "entry_date": "2012-04-26",
      "entry_price": 32.56675720214844,
      "entry_z": -1.7852058116743814,
      "borrow_principal": 0.7955581635620796,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.005193226901030245,
      "exit_date": "2012-07-03",
      "exit_price": 31.881799697875977,
      "hold_days": 47,
      "exit_reason": "exit_z",
      "lever_leg_pnl": -0.01673250827015449
    },
    {
      "entry_date": "2012-10-24",
      "entry_price": 31.75727081298828,
      "entry_z": -1.9688481859150715,
      "borrow_principal": 0.7757835970864753,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0028014407672567157,
      "exit_date": "2012-11-29",
      "exit_price": 33.06491470336914,
      "hold_days": 26,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.031943824359520256
    },
    {
      "entry_date": "2013-04-09",
      "entry_price": 33.43853759765625,
      "entry_z": -1.5007660426834124,
      "borrow_principal": 0.8168544813432638,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0009076160903814044,
      "exit_date": "2013-04-19",
      "exit_price": 34.52824401855469,
      "hold_days": 8,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.026619931289154408
    },
    {
      "entry_date": "2013-06-21",
      "entry_price": 33.37625503540039,
      "entry_z": -1.6414396149934336,
      "borrow_principal": 0.8153330096000795,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0011324069577778883,
      "exit_date": "2013-07-05",
      "exit_price": 34.90185546875,
      "hold_days": 10,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.037268183367211605
    },
    {
      "entry_date": "2014-09-25",
      "entry_price": 10.508296966552734,
      "entry_z": -1.6793820912795434,
      "borrow_principal": 0.25670229875770856,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0007130619409936348,
      "exit_date": "2014-10-24",
      "exit_price": 11.104615211486816,
      "hold_days": 20,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.01456718103351795
    },
    {
      "entry_date": "2015-06-04",
      "entry_price": 12.08210277557373,
      "entry_z": -1.5403905440917556,
      "borrow_principal": 0.295148068824907,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0005738990227150972,
      "exit_date": "2015-06-25",
      "exit_price": 12.407931327819824,
      "hold_days": 14,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.007959514146649305
    },
    {
      "entry_date": "2015-07-08",
      "entry_price": 11.88836669921875,
      "entry_z": -2.166200824698103,
      "borrow_principal": 0.29041538033019487,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.002420128169418291,
      "exit_date": "2015-10-01",
      "exit_price": 11.201482772827148,
      "hold_days": 60,
      "exit_reason": "max_hold_days",
      "lever_leg_pnl": -0.016779567940045426
    },
    {
      "entry_date": "2015-12-10",
      "entry_price": 10.998085975646973,
      "entry_z": -1.5883956161290145,
      "borrow_principal": 0.26866712663999454,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0014925951479999686,
      "exit_date": "2016-02-16",
      "exit_price": 10.94359302520752,
      "hold_days": 40,
      "exit_reason": "exit_z",
      "lever_leg_pnl": -0.0013311829393879426
    },
    {
      "entry_date": "2016-05-06",
      "entry_price": 10.843692779541016,
      "entry_z": -1.6285628149730798,
      "borrow_principal": 0.26489552706690495,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0005518656813893851,
      "exit_date": "2016-05-27",
      "exit_price": 11.370441436767578,
      "hold_days": 15,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.012867697935068312
    },
    {
      "entry_date": "2017-09-26",
      "entry_price": 15.246042251586914,
      "entry_z": -1.7238397602729654,
      "borrow_principal": 0.3724384746069283,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0003620929614234026,
      "exit_date": "2017-10-06",
      "exit_price": 15.587794303894045,
      "hold_days": 7,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.008348501922969986
    },
    {
      "entry_date": "2017-12-06",
      "entry_price": 15.350462913513184,
      "entry_z": -1.822103956257065,
      "borrow_principal": 0.37498931838680943,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.000989555145742969,
      "exit_date": "2018-01-03",
      "exit_price": 15.825121879577637,
      "hold_days": 19,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.01159522309871247
    },
    {
      "entry_date": "2018-04-23",
      "entry_price": 15.571088790893556,
      "entry_z": -1.7435989615003442,
      "borrow_principal": 0.3803788853232259,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.000739625610350717,
      "exit_date": "2018-05-14",
      "exit_price": 16.06772804260254,
      "hold_days": 14,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.012132169272793869
    },
    {
      "entry_date": "2018-10-08",
      "entry_price": 16.29989242553711,
      "entry_z": -1.745242805264589,
      "borrow_principal": 0.3981824903175894,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.003318187419313241,
      "exit_date": "2019-01-03",
      "exit_price": 14.404791831970217,
      "hold_days": 60,
      "exit_reason": "max_hold_days",
      "lever_leg_pnl": -0.04629453091154018
    },
    {
      "entry_date": "2019-01-04",
      "entry_price": 14.178951263427734,
      "entry_z": -2.5568580360533693,
      "borrow_principal": 0.34637100520479946,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0005291779246184436,
      "exit_date": "2019-01-21",
      "exit_price": 15.023399353027344,
      "hold_days": 11,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.020628629593524683
    },
    {
      "entry_date": "2020-02-27",
      "entry_price": 18.69053649902344,
      "entry_z": -1.7157197942344515,
      "borrow_principal": 0.4565824224025649,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0025999832386812724,
      "exit_date": "2020-04-29",
      "exit_price": 17.646902084350586,
      "hold_days": 41,
      "exit_reason": "exit_z",
      "lever_leg_pnl": -0.02549445967904196
    },
    {
      "entry_date": "2021-05-12",
      "entry_price": 28.07917213439941,
      "entry_z": -2.3544938113463183,
      "borrow_principal": 0.6859330353011822,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0011432217255019702,
      "exit_date": "2021-05-28",
      "exit_price": 29.467941284179688,
      "hold_days": 12,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.03392559558671637
    },
    {
      "entry_date": "2021-08-17",
      "entry_price": 29.227859497070312,
      "entry_z": -1.7432902955138538,
      "borrow_principal": 0.7139937845824508,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0007933264273138342,
      "exit_date": "2021-08-27",
      "exit_price": 30.05455017089844,
      "hold_days": 8,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.020194841943342645
    },
    {
      "entry_date": "2021-10-01",
      "entry_price": 29.140844345092773,
      "entry_z": -1.626446647241572,
      "borrow_principal": 0.7118681319090934,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0015819291820202074,
      "exit_date": "2021-10-26",
      "exit_price": 29.92402458190918,
      "hold_days": 16,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.019131945716065135
    },
    {
      "entry_date": "2022-03-07",
      "entry_price": 29.791095733642575,
      "entry_z": -2.4501808859685803,
      "borrow_principal": 0.7277528206214914,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.006064606838512425,
      "exit_date": "2022-06-02",
      "exit_price": 28.412702560424805,
      "hold_days": 60,
      "exit_reason": "max_hold_days",
      "lever_leg_pnl": -0.033672125681561416
    },
    {
      "entry_date": "2022-06-17",
      "entry_price": 26.867565155029297,
      "entry_z": -1.6255868077098894,
      "borrow_principal": 0.6563352519700529,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0031905185859655333,
      "exit_date": "2022-08-05",
      "exit_price": 27.040889739990234,
      "hold_days": 35,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.004234065665665532
    },
    {
      "entry_date": "2022-09-26",
      "entry_price": 24.35943031311035,
      "entry_z": -1.9673149434251649,
      "borrow_principal": 0.5950651925527932,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0027273821325336377,
      "exit_date": "2022-11-11",
      "exit_price": 24.6649112701416,
      "hold_days": 33,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.007462452207643744
    },
    {
      "entry_date": "2023-04-25",
      "entry_price": 26.97860717773437,
      "entry_z": -1.8137421590661964,
      "borrow_principal": 0.6590478458925341,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0013730163456094461,
      "exit_date": "2023-05-17",
      "exit_price": 27.892549514770508,
      "hold_days": 15,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.022326272239538092
    },
    {
      "entry_date": "2023-08-21",
      "entry_price": 28.87504768371582,
      "entry_z": -1.9132283383085271,
      "borrow_principal": 0.7053751089012015,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0017634377722530045,
      "exit_date": "2023-09-14",
      "exit_price": 29.802335739135746,
      "hold_days": 18,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.022652288586296865
    },
    {
      "entry_date": "2023-09-21",
      "entry_price": 28.81636047363281,
      "entry_z": -2.0612126096580705,
      "borrow_principal": 0.7039414663439024,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0010754661291365176,
      "exit_date": "2023-10-11",
      "exit_price": 29.63800621032715,
      "hold_days": 11,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.02007160152070775
    },
    {
      "entry_date": "2023-10-26",
      "entry_price": 28.581602096557617,
      "entry_z": -1.9675636573203665,
      "borrow_principal": 0.6982066631460442,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0005818388859550369,
      "exit_date": "2023-11-03",
      "exit_price": 29.450199127197266,
      "hold_days": 6,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.021218552841532845
    },
    {
      "entry_date": "2024-08-05",
      "entry_price": 38.33150863647461,
      "entry_z": -1.8019407933185065,
      "borrow_principal": 0.9363825949298378,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0009103719672928978,
      "exit_date": "2024-08-14",
      "exit_price": 43.64359664916992,
      "hold_days": 7,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.12976652719298765
    },
    {
      "entry_date": "2024-09-04",
      "entry_price": 41.34973907470703,
      "entry_z": -1.5316752846806228,
      "borrow_principal": 1.0101135424031389,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.0015432290231159069,
      "exit_date": "2024-09-20",
      "exit_price": 44.05406951904297,
      "hold_days": 11,
      "exit_reason": "exit_z",
      "lever_leg_pnl": 0.06606283053011452
    },
    {
      "entry_date": "2025-03-03",
      "entry_price": 46.0338134765625,
      "entry_z": -1.751012083293161,
      "borrow_principal": 1.1245386172117062,
      "lever_shares": 0.024428534859147612,
      "interest_paid": 0.007496924114744713,
      "exit_date": "2025-05-13",
      "exit_price": 43.78169631958008,
      "hold_days": 48,
      "exit_reason": "exit_z",
      "lever_leg_pnl": -0.05501592247622966
    }
  ],
  "delta_vs_base": {
    "cagr": 0.005352413104956266,
    "mdd": 0.04045850401792961,
    "sharpe0": -0.005235757096623106
  }
}