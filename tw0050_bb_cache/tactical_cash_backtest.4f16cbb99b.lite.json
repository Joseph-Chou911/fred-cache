{
  "generated_at_utc": "2026-02-27T07:54:03Z",
  "schema_version": "v2.3",
  "script_fingerprint": "backtest_tw0050_tactical_cash@2026-02-24.v2.3.fix_execdelay0_and_force_close",
  "inputs": {
    "cache_dir": "tw0050_bb_cache",
    "price_csv": "data.csv",
    "price_csv_resolved": "tw0050_bb_cache/data.csv",
    "stats_json": "stats_latest.json",
    "stats_json_resolved": "tw0050_bb_cache/stats_latest.json",
    "price_col": "adjclose",
    "ma_window": 60,
    "core_frac": 0.9,
    "signal_lag_days": 1,
    "exec_delay_days": 0,
    "extra_slip_bps": 0.0,
    "fee_rate": 0.001425,
    "tax_rate": 0.001,
    "slip_bps": 5.0,
    "slip_rate_total": 0.0005,
    "segment_split_date": "auto",
    "segment_break_rank": 0,
    "segment_post_start_date": null
  },
  "segmentation": {
    "enabled": true,
    "mode": "auto_break_rank",
    "split_date": "2014-01-02",
    "post_start_date": "2014-01-03",
    "post_start_policy": "next_row_after_split_date (exclude split day)",
    "break_rank": 0,
    "breaks_detected": 1,
    "break_samples_first5": [
      {
        "idx": 1238,
        "break_date": "2014-01-02",
        "prev_date": "2013-12-31",
        "prev_price": 37.412410736083984,
        "price": 9.329201698303224,
        "ratio": 0.249361148205969
      }
    ],
    "break_samples_source": "detect_breaks_from_price",
    "notes": "post-only evaluation: equity is normalized to 1.0 at post_start_date. split_date is excluded from post by default (post starts at next trading row)."
  },
  "audit": {
    "rows": 2957,
    "start_date": "2014-01-03",
    "end_date": "2026-02-26",
    "p0": 9.217666625976562,
    "core_shares": 0.09763859298878146,
    "cash0": 0.09999999999999998,
    "n_trades": 77,
    "time_in_market_days": 2060,
    "time_in_market_pct": 0.6966520121745012,
    "pending_action_policy": "single pending action; ignores flips until executed (conservative). exec_delay=0 executes immediately (v2.3 fix).",
    "scheduled_entries": 0,
    "scheduled_exits": 0,
    "executed_entries": 77,
    "executed_exits": 77,
    "immediate_exec_entries": 77,
    "immediate_exec_exits": 77,
    "skipped_schedule_due_to_eod": 0,
    "timing_assumption": "signal_raw uses close[t] vs MA[t]; signal_exec uses signal_raw[t-1] (lag=1); desired_pos=signal_exec[t]; if desired changes, execute at t+exec_delay_days (exec_delay=0) using close[exec_day]. extra_slip_bps=0.0 added to slip_bps. force_close_end=True."
  },
  "perf": {
    "overlay": {
      "ok": true,
      "start": 1.0,
      "end": 8.275999166821528,
      "n_days": 2957,
      "years": 11.73015873015873,
      "cagr": 0.19741447231583464,
      "vol_ann": 0.17829916401206866,
      "sharpe0": 1.1000895858679973,
      "sharpe_note": "rf=0 assumed",
      "perf_ddof": 0,
      "mdd": -0.3273197099341455,
      "mdd_peak": "2022-01-17",
      "mdd_trough": "2022-10-25"
    },
    "base_only": {
      "ok": true,
      "start": 1.0,
      "end": 8.023371970024284,
      "n_days": 2957,
      "years": 11.73015873015873,
      "cagr": 0.1942540808118478,
      "vol_ann": 0.17558532908082677,
      "sharpe0": 1.099276897576782,
      "sharpe_note": "rf=0 assumed",
      "perf_ddof": 0,
      "mdd": -0.3281139241596951,
      "mdd_peak": "2022-01-17",
      "mdd_trough": "2022-10-25"
    },
    "calmar_overlay": 0.6031243042331703,
    "calmar_base_only": 0.5920324207798726,
    "delta_vs_base": {
      "cagr": 0.003160391503986837,
      "mdd": 0.0007942142255495943,
      "sharpe0": 0.000812688291215391
    }
  },
  "trade_kpis": {
    "n_trades": 77,
    "win_rate": 0.35064935064935066,
    "avg_net_pnl": 0.0032808726856784804,
    "profit_factor": 3.0697336058369804,
    "avg_hold_days": 26.766233766233768,
    "time_in_market_pct": 0.6966520121745012
  }
}